@page "/dashboard"

<MudPaper Class="pa-2">
        <MudChart ChartType="ChartType.Pie" InputData="@data" @bind-SelectedIndex="Index" InputLabels="@labels" Width="150px" Height="150px" />
        <MudChart ChartType="ChartType.Line" ChartSeries="@Series" @bind-SelectedIndex="Index" XAxisLabels="@XAxisLabels" Width="650px" Height="350px"></MudChart>
</MudPaper>

<MudText Typo="Typo.h6">Selected portion of the chart: @Index</MudText>

<MudGrid>
    <MudItem xs="12" sm="12" md="4">
        <MudPaper Elevation="25" Class="pa-4" Style="height:300px;">
            Fertility
            <MudPaper Class="pa-16 ma-2" Elevation="3" Style="background-color:green;color:white">
                Auto Approved: 14%
            </MudPaper>
        </MudPaper>
    </MudItem>
    <MudItem xs="12" sm="12" md="4">
        <MudPaper Elevation="25" Class="pa-4" Style="height:300px;">
            Sleep
        </MudPaper>
    </MudItem>
    <MudItem xs="12" sm="12" md="4">
        <MudPaper Elevation="25" Class="pa-4" Style="height:300px;">
            PAC
        </MudPaper>
    </MudItem>
</MudGrid>

@code {
    private int Index = -1; //default value cannot be 0 -> first selectedindex is 0.
    int dataSize = 3;
    double[] data = { 500, 1000, 2000 };
    string[] labels = { "Sleep", "PAC", "Fertility" };

    Random random = new Random();

    void RandomizeData()
    {
        var new_data = new double[dataSize];
        for (int i = 0; i < new_data.Length; i++)
            new_data[i] = random.NextDouble() * 100;
        data = new_data;
        StateHasChanged();
    }

    public List<ChartSeries> Series = new List<ChartSeries>()
    {
        new ChartSeries() { Name = "Sleep", Data = new double[] { 90, 79, 72, 69, 62, 62, 55, 65, 70 } },
        new ChartSeries() { Name = "PAC", Data = new double[] { 10, 41, 35, 51, 49, 62, 69, 91, 148 } },
        new ChartSeries() { Name = "Fertility", Data = new double[] { 21, 62, 11, 44, 55, 66, 77, 23, 53 } },
    };
    public string[] XAxisLabels = { "12am", "1am", "2am", "3am", "4am", "5am", "6am", "7am", "8am" };
}
